---
layout: default
---

<h1 class="centerify">{{ page.api.title }}</h1>

<div class="container">
{% for chapter in page.api.documentation %}
    <h2 id="{{ chapter.title | slugify }}"><a href="#{{ chapter.title | slugify }}">{{ chapter.title }}</a></h2>
    <article class="documentation">
      {{ chapter.content | markdownify }}
    </article>
{% endfor %}
</div>

<div class="container">
  <h2>Overview of endpoints</h2>
  <p>Base URL: <code>{{ page.api.base_uri }}</code></p>
  <table class="default">
    <thead>
      <th>Method</th>
      <th>Endpoint</th>
      <th>Usage</th>
      <th>Returns</th>
    </thead>
    {% for resource in page.api.resources %}
      {% for method in resource.methods %}
        <tr>
          <td>{{ method[1].method }}</td>
          <td>{{ resource.relative_uri }} </td>
          <td>{{ resource.description }}</td>
          <td>{{ resource.display_name }}</td>
        </tr>
      {% endfor %}
    {% endfor %}
  </table>
</div>


{% for resource in page.api.resources %}

  {% if resource.uri_parameters contains 'mediaTypeExtension' %}
    {% for extension in resource.uri_parameters.mediaTypeExtension.enum %}
      {% assign absolute_extension = resource.absolute_uri | replace:'{mediaTypeExtension}',extension %}
      {% assign relative_extension = resource.relative_uri | replace:'{mediaTypeExtension}',extension %}
      {% unless forloop.first %}
        {% assign absoluteUriTitle = absoluteUriTitle | append: '<br/>'  %}
        {% assign relativeUriTitle = relativeUriTitle | append: ' or '  %}
      {% endunless %}
      {% assign absoluteUriTitle = absoluteUriTitle | append: absolute_extension  %}
      {% assign relativeUriTitle = relativeUriTitle | append: relative_extension  %}
    {% endfor %}
  {% else %}
    {% assign absoluteUriTitle = resource.absolute_uri %}
    {% assign relativeUriTitle = resource.relative_uri %}
  {% endif %}

  {% for method in resource.methods %}
    <div class="container">

      <h2>{{ method[1].method }} {{ relativeUriTitle }}</h2>

      <dl>
        <dt>Description</dt>
        <dd>method.description</dd>
        
        <dt>Endpoint</dt>
        <dd>method.description</dd>
        
        <dt>Security</dt>
        <dd>method.description</dd>
      </dl>

      <h3>URL:</h3>
      <code>{{ absoluteUriTitle }}</code>

      {% if method.description %}
        <p>{{ method.description }}</p>
      {% endif %}
    </div>
  {% endfor %}
{% endfor %}
